{
    "rules": {
        "sessions": {
            ".read": true,
            "$sessionId": {
                ".write": true
            }
        },
        "presence": {
            ".read": true,
            "$sessionId": {
                ".write": true
            }
        },
        "heartbeat": {
            "$sessionId": {
                "$deviceId": {
                    ".read": false,
                    ".write": true
                }
            }
        },
        "chat": {
            "$sessionId": {
                ".read": true,
                ".write": true,
                "$messageId": {
                    ".validate": "newData.hasChildren(['author', 'text', 'timestamp'])"
                }
            }
        },
        "typing": {
            "$sessionId": {
                ".read": true,
                ".write": true
            }
        },
        "$other": {
            ".read": false,
            ".write": false
        }
    }
}